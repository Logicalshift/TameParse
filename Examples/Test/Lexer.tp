language LexerTests {
	lexer-symbols {
		letter 						= /[A-Za-z]/
		digit 						= /[0-9]/

		identifier					= /{letter}({letter}|{digit})*/
		unsigned-integer			= /{digit}+/
		unsigned-real				= /{unsigned-integer}\.{unsigned-integer}(e[+\-]?{unsigned-integer}+)?/

		jim 						= /jim/
	}

	case sensitive lexer-symbols {
		fred = /fred/
	}

	case insensitive lexer-symbols {
		joe = /joe/
	}

	lexer {
		plus-or-minus = /[+\-]/
		unsigned-real = /{unsigned-real}/

		foo = /(foo|forb)/
		bar = /(bar|baz)/

		joe = /{joe}/
	}

	case insensitive lexer {
		jim = /{jim}/
		fred = /{fred}/
		jimfred = /{jim}{fred}/
	}

	weak lexer {
		foobar = /(foo|bar)/
	}

	grammar {
		<plus-or-minus> = plus-or-minus

		<unsigned-real> = unsigned-real

		<name> = jim | joe | fred | jimfred

		<foo-bar> = foo 'x' | bar 'y'

		<foo-bar-weak> = foobar 'x' | foo 'y' | bar 'z'

		<foo-bar-only-weak> = foobar
	}
}

test LexerTests {
	<plus-or-minus> =	plus("+")
						minus("-")


	<unsigned-real> =	"1.2e12"
						"1.2e+1"
						"1.2e-1"

	<name> = 			"jim"
						"joe"
						"fred"
						"jIM"
						"JoE"
						"jimfred"
						"JiMfred"

	<name> !=			"FrEd"
						"jimFrEd"
	
	<foo-bar> =			"foox"
						"bary"
						"forbx"
						"bazy"
	
	<foo-bar-weak> =	"foox"
						"barx"
						"forby"
						"bazz"

	<foo-bar-only-weak> = "foo"
						"bar"
}
